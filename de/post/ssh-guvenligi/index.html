<!doctype html><html lang=de dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern | Wise</title><meta name=keywords content="linux,ssh,sicherheit,audit"><meta name=description content="ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern Heute werde ich darÃ¼ber sprechen, wie wir den SSH-Dienst, der es uns ermÃ¶glicht, eine sichere Verbindung herzustellen, wenn Sie einen Server mieten, sicherer und fern von bÃ¶swilligen Anfragen von auÃŸen halten kÃ¶nnen. In erster Linie werde ich den Prozess unter drei verschiedenen Ãœberschriften beschreiben: einfach, empfohlen und fortgeschritten. Titelinhalte werden sukzessive nach persÃ¶nlichen Anforderungen berÃ¼cksichtigt. Obwohl die Titel miteinander verknÃ¼pft sind, ist es kein Problem, sie in einem gewÃ¼nschten Stadium zu belassen."><meta name=author content="Wise"><link rel=canonical href=https://wiseweb-works.github.io/blog/de/post/ssh-guvenligi/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.5765740aa12888733e1d823f519b426ef349d2fc7b6ba7a6a06d3e4021b2b0d9.css integrity="sha256-V2V0CqEoiHM+HYI/UZtCbvNJ0vx7a6emoG0+QCGysNk=" rel="preload stylesheet" as=style><link rel=icon href=https://wiseweb-works.github.io/blog/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wiseweb-works.github.io/blog/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wiseweb-works.github.io/blog/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://wiseweb-works.github.io/blog/favicons/apple-touch-icon.png><link rel=mask-icon href=https://wiseweb-works.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=tr href=https://wiseweb-works.github.io/blog/post/ssh-guvenligi/><link rel=alternate hreflang=en href=https://wiseweb-works.github.io/blog/en/post/ssh-guvenligi/><link rel=alternate hreflang=de href=https://wiseweb-works.github.io/blog/de/post/ssh-guvenligi/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern"><meta property="og:description" content="ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern Heute werde ich darÃ¼ber sprechen, wie wir den SSH-Dienst, der es uns ermÃ¶glicht, eine sichere Verbindung herzustellen, wenn Sie einen Server mieten, sicherer und fern von bÃ¶swilligen Anfragen von auÃŸen halten kÃ¶nnen. In erster Linie werde ich den Prozess unter drei verschiedenen Ãœberschriften beschreiben: einfach, empfohlen und fortgeschritten. Titelinhalte werden sukzessive nach persÃ¶nlichen Anforderungen berÃ¼cksichtigt. Obwohl die Titel miteinander verknÃ¼pft sind, ist es kein Problem, sie in einem gewÃ¼nschten Stadium zu belassen."><meta property="og:type" content="article"><meta property="og:url" content="https://wiseweb-works.github.io/blog/de/post/ssh-guvenligi/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-10-05T00:00:00+00:00"><meta property="article:modified_time" content="2023-04-07T05:02:05+02:00"><meta property="og:site_name" content="Wise Web Works"><meta name=twitter:card content="summary"><meta name=twitter:title content="ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern"><meta name=twitter:description content="ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern Heute werde ich darÃ¼ber sprechen, wie wir den SSH-Dienst, der es uns ermÃ¶glicht, eine sichere Verbindung herzustellen, wenn Sie einen Server mieten, sicherer und fern von bÃ¶swilligen Anfragen von auÃŸen halten kÃ¶nnen. In erster Linie werde ich den Prozess unter drei verschiedenen Ãœberschriften beschreiben: einfach, empfohlen und fortgeschritten. Titelinhalte werden sukzessive nach persÃ¶nlichen Anforderungen berÃ¼cksichtigt. Obwohl die Titel miteinander verknÃ¼pft sind, ist es kein Problem, sie in einem gewÃ¼nschten Stadium zu belassen."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wiseweb-works.github.io/blog/de/post/"},{"@type":"ListItem","position":2,"name":"ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern","item":"https://wiseweb-works.github.io/blog/de/post/ssh-guvenligi/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern","name":"ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern","description":"ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern Heute werde ich darÃ¼ber sprechen, wie wir den SSH-Dienst, der es uns ermÃ¶glicht, eine sichere Verbindung herzustellen, wenn Sie einen Server mieten, sicherer und fern von bÃ¶swilligen Anfragen von auÃŸen halten kÃ¶nnen. In erster Linie werde ich den Prozess unter drei verschiedenen Ãœberschriften beschreiben: einfach, empfohlen und fortgeschritten. Titelinhalte werden sukzessive nach persÃ¶nlichen Anforderungen berÃ¼cksichtigt. Obwohl die Titel miteinander verknÃ¼pft sind, ist es kein Problem, sie in einem gewÃ¼nschten Stadium zu belassen.","keywords":["linux","ssh","sicherheit","audit"],"articleBody":"ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern Heute werde ich darÃ¼ber sprechen, wie wir den SSH-Dienst, der es uns ermÃ¶glicht, eine sichere Verbindung herzustellen, wenn Sie einen Server mieten, sicherer und fern von bÃ¶swilligen Anfragen von auÃŸen halten kÃ¶nnen. In erster Linie werde ich den Prozess unter drei verschiedenen Ãœberschriften beschreiben: einfach, empfohlen und fortgeschritten. Titelinhalte werden sukzessive nach persÃ¶nlichen Anforderungen berÃ¼cksichtigt. Obwohl die Titel miteinander verknÃ¼pft sind, ist es kein Problem, sie in einem gewÃ¼nschten Stadium zu belassen.\nEinfache Sicherheitsvorkehrungen Zuerst mÃ¼ssen wir die Updates Ã¼ber die Konsole mit dem Paketmanager der Linux-Version installieren, in der wir uns befinden.\nUbuntu: sudo apt update \u0026\u0026 sudo apt upgrade -y Fedora: sudo yum update -y Arch-Linux: sudo pacman -Syyu Nachdem die Updates installiert sind, beginnen wir mit der Konfiguration des SSHD-Dienstes (das ist der Dienst, der es Ihnen ermÃ¶glicht, SSH-Verbindungen von auÃŸen zu empfangen) auf Ihrem Server (in meinem Fall Ubuntu). Vor allem sei aufgrund der Verwirrung angemerkt, dass es sich bei dem ssh-Dienst und dem SSHD-Dienst um unterschiedliche Dienste handelt. WÃ¤hrend der SSH-Dienst der Dienst ist, der den Server mit anderen Computern oder Servern verbindet, ist der SSHD-Dienst der Dienst, der es anderen Computern ermÃ¶glicht, sich mit Ihrem Server zu verbinden, d. h. eingehende Verbindungen.\nDie Datei, die die Einstellungen des SSHD-Dienstes enthÃ¤lt, befindet sich im Allgemeinen unter â€/etc/ssh/sshd_configâ€œ. Wir mÃ¼ssen es mit einem der von uns verwendeten Texteditoren Ã¶ffnen, jedoch mit einem Benutzer mit sudo-Rechten (dh Administratorrechten).\nWenn wir weitermachen, Ubuntu\nsudo nano /etc/ssh/sshd_config # Befehl zum Ã–ffnen der Einstellungsdatei Titel werden wir finden und ersetzen\n#ClientAliveInterval 0 \u003e\u003e Wir entfernen den Hashtag am Anfang und Ã¤ndern den Wert von â€0â€œ auf 300. Dieser Befehl regelt das automatische SchlieÃŸen der Verbindung nach wie vielen Sekunden, wenn die Verbindung nicht genutzt wird (sie bleibt im Ruhezustand) . #PermitEmptyPasswords nein \u003e\u003eÂ Wir entfernen das Hashtag am Anfang und Ã¤ndern den \"nein\"-Wert nicht. Dieser Befehl verhindert, dass leere oder unverschlÃ¼sselte Benutzer eine Verbindung herstellen. Es erlaubt also keine leeren PasswÃ¶rter. X11Forwarding yes \u003e\u003e Wenn am Anfang ein Hashtag steht, entfernen wir es, andernfalls Ã¤ndern wir den â€yesâ€œ-Wert auf no. Obwohl dieser Befehl das AusfÃ¼hren von Anwendungen mit GUI-Schnittstelle auf dem Server erleichtert, schlieÃŸen wir ihn, da er missbraucht werden kann. #MaxAuthTries 6 \u003e\u003e Wir entfernen den Hashtag am Anfang und Ã¤ndern den Wert von â€6â€œ auf 3. Dieser Befehl regelt, wie oft sie Ihr Passwort versuchen dÃ¼rfen. Die Zahl 6 ist ein unnÃ¶tig hoher Wert und die allgemeine Akzeptanz liegt bei 3 oder 4. #Protokol 2 \u003e\u003e Wenn am Anfang ein Hashtag steht, entfernen wir es, wenn es keinen solchen Eintrag gibt, fÃ¼gen wir den Wert in Form von â€Protokol 2â€œ an das erste Leerzeichen an, das wir finden. Dieser Befehl stellt sicher, dass Verbindungen nur mit dem neuesten SSH-Protokoll hergestellt werden, und schÃ¼tzt Sie so vor Schwachstellen des alten Protokolls. Wenn Sie nach dem Vornehmen der Einstellungen Ã¼berprÃ¼fen mÃ¶chten: Sie kÃ¶nnen den Befehl â€sudo sshd -tâ€œ verwenden. Wenn Sie keine Fehlermeldung sehen, kÃ¶nnen Sie die Einstellungen Ã¼bernehmen und den Dienst mit dem Befehl â€œsudo systemctl restart sshdâ€ oder â€œsudo service sshd restartâ€ neu starten.\nEmpfohlene Einstellungen ZusÃ¤tzlich zu den vorherigen Einstellungen werden wir zusÃ¤tzliche Einstellungen vornehmen, wie z. B. benutzerbasierte Anmeldung, Anmeldung nur mit sicherem SchlÃ¼ssel und EinschrÃ¤nkung der Anmeldung mit Root-Benutzer. Zuerst mÃ¼ssen Sie einen geheimen SchlÃ¼ssel fÃ¼r Ihren Benutzer auf Ihrem lokalen Computer generieren. Dazu, wenn Sie ein Linux-basiertes Betriebssystem verwenden\nNachdem Sie ssh-keygen -t rsa -b 4096 # eingegeben haben, geben Sie das gewÃ¼nschte Passwort als Antwort auf die folgenden Fragen ein \u003e\u003e\u003e\u003e Passphrase eingeben (leer fÃ¼r keine Passphrase): [Entertaste drÃ¼cken] \u003e\u003e\u003e\u003e Gleiche Passphrase erneut eingeben: [Entertaste drÃ¼cken] oder ssh-keygen -t ecdsa -b 521 # Erzeugt einen sichereren und schnelleren EkliptikschlÃ¼ssel. Geben Sie das gewÃ¼nschte Passwort als Antwort auf die folgenden Fragen ein \u003e\u003e\u003e\u003e Passphrase eingeben (leer fÃ¼r keine Passphrase): [Entertaste drÃ¼cken] \u003e\u003e\u003e\u003e Gleiche Passphrase erneut eingeben: [Entertaste drÃ¼cken] Wenn Sie andere Fragen mit der Eingabetaste beantwortet und keinen bestimmten Speicherort fÃ¼r den SchlÃ¼ssel eingegeben haben, wird Ihr SchlÃ¼sselpaar (.pub=Ã¶ffentlicher SchlÃ¼ssel) / privater SchlÃ¼ssel ohne Erweiterung) im Ordner /home/USER_NAME/.ssh gespeichert. Sie kÃ¶nnen den folgenden Code verwenden, um den von Ihnen generierten SchlÃ¼ssel auf Ihrem Server einzufÃ¼hren.\nssh-copy-id -i ~/.ssh/KEY_NAME.pub Nachdem Sie USER_NAME@SERVER_IP_ADRESS # auf dem SERVER eingegeben haben, werden Sie nach dem Passwort Ihres Benutzers gefragt und wenn Sie es richtig eingeben, sehen Sie eine BestÃ¤tigungsnachricht. Nachdem Sie Ihren eigenen SchlÃ¼ssel generiert haben, greifen Sie nur mit dem SchlÃ¼ssel auf den Server zu; Titel werden wir finden und ersetzen\n#PasswordAuthentication no \u003e\u003e Wir entfernen den Hashtag am Anfang und belassen den â€noâ€œ-Wert auf no. Dieser Befehl verhindert, dass eine Verbindung zum Server mit einem Kennwort hergestellt wird. Benutzer kÃ¶nnen sich nur mit ssh_keys verbinden. PubkeyAuthentication yes \u003e\u003eÂ Falls ja, entfernen wir das Rautezeichen am Anfang und setzen den Wert auf yes. Dieser Befehl ist der Befehl, mit dem Sie sich mit dem gerade erstellten geheimen SchlÃ¼ssel anmelden kÃ¶nnen. #PermitRootLogin no \u003e\u003e Wir entfernen den Hashtag am Anfang und belassen den â€noâ€œ-Wert auf no. Dieser Befehl verhindert, dass der ROOT-Benutzer, der am stÃ¤rksten autorisierte Benutzer ist, auf den Server zugreift. Sie kÃ¶nnen jedoch mit einem anderen Benutzer darauf zugreifen und dann zum ROOT-Benutzer wechseln. AllowUsers IHR BENUTZERNAME \u003e\u003eÂ Falls noch nicht vorhanden, fÃ¼gen wir einen solchen Eintrag hinzu. Es hindert andere Benutzer daran, sich mit dem Server zu verbinden und/oder einen Benutzernamen zu versuchen. LoginGraceTime 20 \u003e\u003e Wenn nicht, fÃ¼gen wir einen solchen Datensatz hinzu und setzen den Wert auf 20. Bestimmt die fÃ¼r die Anmeldung erforderliche Zeit in Sekunden. Wir verhindern, dass sie den Server mit einer langen Anmeldeanfrage beschÃ¤ftigen. ChallengeResponseAuthentication no \u003e\u003eÂ Falls ja, entfernen wir das Rautezeichen am Anfang und setzen den Wert auf no. Dieser Befehl deaktiviert andere Anmeldemethoden. KerberosAuthentication no \u003e\u003eÂ Falls ja, entfernen wir das Rautezeichen am Anfang und setzen den Wert auf no. Dieser Befehl deaktiviert andere Anmeldemethoden. GSSAPIAuthentication no \u003e\u003eÂ Falls ja, entfernen wir das Rautezeichen am Anfang und setzen den Wert auf no. Dieser Befehl deaktiviert andere Anmeldemethoden. Wenn Sie nach dem Vornehmen der Einstellungen Ã¼berprÃ¼fen mÃ¶chten: Sie kÃ¶nnen den Befehl â€sudo sshd -tâ€œ verwenden. Wenn Sie keine Fehlermeldung sehen, kÃ¶nnen Sie die Einstellungen Ã¼bernehmen und den Dienst mit dem Befehl â€œsudo systemctl restart sshdâ€ oder â€œsudo service sshd restartâ€ neu starten.\nErweiterte Einstellungen ZunÃ¤chst werden wir den Standard-SSH-Verbindungsport 22 Ã¤ndern und dann die wÃ¤hrend der SSH-Verbindung verwendeten VerschlÃ¼sselungstools noch stÃ¤rker machen. AnschlieÃŸend legen wir fest, wie die Protokolle (RegistrierungsdatensÃ¤tze) des Server-SSH-Dienstes gefÃ¼hrt werden.\nTitel werden wir finden und ersetzen\n#Port 22 \u003e\u003e Wir finden das und entfernen das Rautezeichen am Anfang und schreiben dort eine Portnummer, die von keinem anderen Dienst verwendet wird und offen ist. Zum Beispiel kÃ¶nnte es 2992 sein. LogLevel INFO \u003e\u003eÂ Wir finden diese Einstellung und Ã¤ndern sie, wenn nicht, fÃ¼gen wir sie hinzu. Es hilft uns, den Aufnahmepegel einzustellen. AllowAgentForwarding no \u003e\u003eÂ Wir finden diese Einstellung und Ã¤ndern sie, wenn nicht, fÃ¼gen wir sie hinzu. Deaktiviert alternative Routing-Methoden. AllowTcpForwarding no \u003e\u003eÂ Wir finden diese Einstellung und Ã¤ndern sie, wenn nicht, fÃ¼gen wir sie hinzu. Deaktiviert alternative Routing-Methoden. PrintMotd nein \u003e\u003eÂ Wir finden diese Einstellung und Ã¤ndern sie, wenn nicht, fÃ¼gen wir sie hinzu. Um zu verhindern, dass sie etwas Ã¼ber den Server erfahren, bevor die Verbindung hergestellt wird. PermitUserEnvironment nein \u003e\u003eÂ Wir finden diese Einstellung und Ã¤ndern sie, wenn nicht, fÃ¼gen wir sie hinzu. PermitTunnel no \u003e\u003eÂ Wir finden diese Einstellung und Ã¤ndern sie, wenn nicht, fÃ¼gen wir sie hinzu. Wir gehen noch weiter und bestimmen, welcher der VerschlÃ¼sselungsalgorithmen, Authentifizierungsalgorithmen, SchlÃ¼sselaustauschalgorithmen und anderen Algorithmen, die wÃ¤hrend der SSH-Verbindung verwendet werden, der Standard sein sollte.\nWir fÃ¼hren die folgenden Befehle jeweils mit einem Root-Benutzer oder einem Benutzer mit sudo-Berechtigung aus.\n1] rm /etc/ssh/ssh_host_* 2] ssh-keygen -t rsa -b 4096 -f /etc/ssh/ssh_host_rsa_key -N \"\" 3] ssh-keygen -t ed25519 -f /etc/ssh/ssh_host_ed25519_key -N \"\" 4] awk '$5 \u003e= 3072' /etc/ssh/moduli \u003e /etc/ssh/moduli.tmp 5] mv /etc/ssh/moduli.tmp /etc/ssh/moduli 6] sed -i 's/^\\#HostKey \\/etc\\/ssh\\/ssh_host_\\(rsa\\|ed25519\\)_key$/HostKey \\/etc\\/ssh\\/ssh_host_\\1_key/g' /etc/ ssh/sshd_config 7] echo -e \"KexAlgorithms curve25519-sha256,curve25519-sha256@libssh.org,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha256\\nCiphers chacha20-poly1305@ openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr\\nMACs hmac-sha2-256-etm@openssh.com,hmac-sha2-512 -etm@openssh.com,umac-128-etm@openssh.com\\nHostKeyAlgorithms ssh-ed25519,ssh-ed25519-cert-v01@openssh.com,sk-ssh-ed25519@openssh.com,sk-ssh-ed25519- cert-v01@openssh.com,rsa-sha2-256,rsa-sha2-512,rsa-sha2-256-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com\" \u003e / etc/ssh/sshd_config.d/ssh-hardening.conf Nachdem Sie die Einstellungen vorgenommen haben, Ã¼bernehmen Sie die Einstellungen mit dem Befehl â€sudo sshd -tâ€œ und dann, wenn Sie keine Fehlermeldung sehen, â€sudo service sshd restartâ€œ und starten Sie den Dienst neu. Jetzt kÃ¶nnen Sie sich Ã¼ber den gerade definierten Port und nur mit Ihrem privaten SchlÃ¼ssel mit dem Server verbinden. Verbinden;\nSie kÃ¶nnen den Befehl ssh -i ~/.ssh/KEY_NAME USER_NAME@SERVER_IP_ADRESS -p PORT_NUMBER # verwenden. Sie kÃ¶nnen fortfahren, indem Sie bei den eingehenden Benachrichtigungen die Eingabetaste sagen. Ende Dieser Artikel wurde zuvor unter https://teknolojirehberleri.xyz verÃ¶ffentlicht. Um ein persÃ¶nliches Portfolio zu erstellen, hatte ich das BedÃ¼rfnis, es auf meiner persÃ¶nlichen Website erneut zu verÃ¶ffentlichen.\n","wordCount":"1421","inLanguage":"de","datePublished":"2021-10-05T00:00:00Z","dateModified":"2023-04-07T05:02:05+02:00","author":{"@type":"Person","name":"Wise"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wiseweb-works.github.io/blog/de/post/ssh-guvenligi/"},"publisher":{"@type":"Organization","name":"Wise","logo":{"@type":"ImageObject","url":"https://wiseweb-works.github.io/blog/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wiseweb-works.github.io/blog/de/ accesskey=h title="Wise (Alt + H)">Wise</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://wiseweb-works.github.io/blog/ title=Turkish aria-label=:tr:>ğŸ‡¹ğŸ‡·</a></li><li><a href=https://wiseweb-works.github.io/blog/en/ title=English aria-label=:gb:>ğŸ‡¬ğŸ‡§</a></li></ul></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern</h1><div class=post-meta><span title='2021-10-05 00:00:00 +0000 UTC'>5 Oktober, 2021</span>&nbsp;Â·&nbsp;<span title='2023-04-07 05:02:05 +0200 +0200'>(Updated 7 April, 2023)</span>&nbsp;Â·&nbsp;7 Minuten&nbsp;Â·&nbsp;1421 WÃ¶rter&nbsp;Â·&nbsp;Wise&nbsp;|&nbsp;Ãœbersetzungen:<ul class=i18n_list><li><a href=https://wiseweb-works.github.io/blog/post/ssh-guvenligi/>ğŸ‡¹ğŸ‡·</a></li><li><a href=https://wiseweb-works.github.io/blog/en/post/ssh-guvenligi/>ğŸ‡¬ğŸ‡§</a></li></ul>&nbsp;|&nbsp;<a href=https://github.com/wiseweb-works/blog/tree/master/content/post/ssh-guvenligi.de.md rel="noopener noreferrer" target=_blank>Bearbeiten</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Inhaltsverzeichnis</span></summary><div class=inner><ul><li><a href=#erh%c3%b6hung-der-ssh-sicherheit-auf-linux-servern aria-label="ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern">ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern</a><ul><li><a href=#einfache-sicherheitsvorkehrungen aria-label="Einfache Sicherheitsvorkehrungen">Einfache Sicherheitsvorkehrungen</a></li><li><a href=#empfohlene-einstellungen aria-label="Empfohlene Einstellungen">Empfohlene Einstellungen</a></li><li><a href=#erweiterte-einstellungen aria-label="Erweiterte Einstellungen">Erweiterte Einstellungen</a></li></ul></li><li><a href=#ende aria-label=Ende>Ende</a></li></ul></div></details></div><div class=post-content><h1 id=erhÃ¶hung-der-ssh-sicherheit-auf-linux-servern>ErhÃ¶hung der SSH-Sicherheit auf Linux-Servern<a hidden class=anchor aria-hidden=true href=#erhÃ¶hung-der-ssh-sicherheit-auf-linux-servern>#</a></h1><p>Heute werde ich darÃ¼ber sprechen, wie wir den SSH-Dienst, der es uns ermÃ¶glicht, eine sichere Verbindung herzustellen, wenn Sie einen Server mieten, sicherer und fern von bÃ¶swilligen Anfragen von auÃŸen halten kÃ¶nnen. In erster Linie werde ich den Prozess unter drei verschiedenen Ãœberschriften beschreiben: einfach, empfohlen und fortgeschritten. Titelinhalte werden sukzessive nach persÃ¶nlichen Anforderungen berÃ¼cksichtigt. Obwohl die Titel miteinander verknÃ¼pft sind, ist es kein Problem, sie in einem gewÃ¼nschten Stadium zu belassen.</p><h2 id=einfache-sicherheitsvorkehrungen>Einfache Sicherheitsvorkehrungen<a hidden class=anchor aria-hidden=true href=#einfache-sicherheitsvorkehrungen>#</a></h2><p>Zuerst mÃ¼ssen wir die Updates Ã¼ber die Konsole mit dem Paketmanager der Linux-Version installieren, in der wir uns befinden.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Ubuntu: sudo apt update <span style=color:#f92672>&amp;&amp;</span> sudo apt upgrade -y
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Fedora: sudo yum update -y
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Arch-Linux: sudo pacman -Syyu
</span></span></code></pre></div><p>Nachdem die Updates installiert sind, beginnen wir mit der Konfiguration des SSHD-Dienstes (das ist der Dienst, der es Ihnen ermÃ¶glicht, SSH-Verbindungen von auÃŸen zu empfangen) auf Ihrem Server (in meinem Fall Ubuntu). Vor allem sei aufgrund der Verwirrung angemerkt, dass es sich bei dem ssh-Dienst und dem SSHD-Dienst um unterschiedliche Dienste handelt. WÃ¤hrend der SSH-Dienst der Dienst ist, der den Server mit anderen Computern oder Servern verbindet, ist der SSHD-Dienst der Dienst, der es anderen Computern ermÃ¶glicht, sich mit Ihrem Server zu verbinden, d. h. eingehende Verbindungen.</p><p>Die Datei, die die Einstellungen des SSHD-Dienstes enthÃ¤lt, befindet sich im Allgemeinen unter â€/etc/ssh/sshd_configâ€œ. Wir mÃ¼ssen es mit einem der von uns verwendeten Texteditoren Ã¶ffnen, jedoch mit einem Benutzer mit sudo-Rechten (dh Administratorrechten).</p><p>Wenn wir weitermachen, Ubuntu</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo nano /etc/ssh/sshd_config <span style=color:#75715e># Befehl zum Ã–ffnen der Einstellungsdatei</span>
</span></span></code></pre></div><p>Titel werden wir finden und ersetzen</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>#ClientAliveInterval 0 &gt;&gt; Wir entfernen den Hashtag am Anfang und Ã¤ndern den Wert von â€0â€œ auf 300. Dieser Befehl regelt das automatische SchlieÃŸen der Verbindung nach wie vielen Sekunden, wenn die Verbindung nicht genutzt wird (sie bleibt im Ruhezustand) .
</span></span><span style=display:flex><span>#PermitEmptyPasswords nein &gt;&gt;Â Wir entfernen das Hashtag am Anfang und Ã¤ndern den &#34;nein&#34;-Wert nicht. Dieser Befehl verhindert, dass leere oder unverschlÃ¼sselte Benutzer eine Verbindung herstellen. Es erlaubt also keine leeren PasswÃ¶rter.
</span></span><span style=display:flex><span>X11Forwarding yes &gt;&gt; Wenn am Anfang ein Hashtag steht, entfernen wir es, andernfalls Ã¤ndern wir den â€yesâ€œ-Wert auf no. Obwohl dieser Befehl das AusfÃ¼hren von Anwendungen mit GUI-Schnittstelle auf dem Server erleichtert, schlieÃŸen wir ihn, da er missbraucht werden kann.
</span></span><span style=display:flex><span>#MaxAuthTries 6 &gt;&gt; Wir entfernen den Hashtag am Anfang und Ã¤ndern den Wert von â€6â€œ auf 3. Dieser Befehl regelt, wie oft sie Ihr Passwort versuchen dÃ¼rfen. Die Zahl 6 ist ein unnÃ¶tig hoher Wert und die allgemeine Akzeptanz liegt bei 3 oder 4.
</span></span><span style=display:flex><span>#Protokol 2 &gt;&gt; Wenn am Anfang ein Hashtag steht, entfernen wir es, wenn es keinen solchen Eintrag gibt, fÃ¼gen wir den Wert in Form von â€Protokol 2â€œ an das erste Leerzeichen an, das wir finden. Dieser Befehl stellt sicher, dass Verbindungen nur mit dem neuesten SSH-Protokoll hergestellt werden, und schÃ¼tzt Sie so vor Schwachstellen des alten Protokolls.
</span></span></code></pre></div><p>Wenn Sie nach dem Vornehmen der Einstellungen Ã¼berprÃ¼fen mÃ¶chten: Sie kÃ¶nnen den Befehl â€sudo sshd -tâ€œ verwenden. Wenn Sie keine Fehlermeldung sehen, kÃ¶nnen Sie die Einstellungen Ã¼bernehmen und den Dienst mit dem Befehl &ldquo;sudo systemctl restart sshd&rdquo; oder &ldquo;sudo service sshd restart&rdquo; neu starten.</p><h2 id=empfohlene-einstellungen>Empfohlene Einstellungen<a hidden class=anchor aria-hidden=true href=#empfohlene-einstellungen>#</a></h2><p>ZusÃ¤tzlich zu den vorherigen Einstellungen werden wir zusÃ¤tzliche Einstellungen vornehmen, wie z. B. benutzerbasierte Anmeldung, Anmeldung nur mit sicherem SchlÃ¼ssel und EinschrÃ¤nkung der Anmeldung mit Root-Benutzer. Zuerst mÃ¼ssen Sie einen geheimen SchlÃ¼ssel fÃ¼r Ihren Benutzer auf Ihrem lokalen Computer generieren. Dazu, wenn Sie ein Linux-basiertes Betriebssystem verwenden</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Nachdem Sie ssh-keygen -t rsa -b 4096 # eingegeben haben, geben Sie das gewÃ¼nschte Passwort als Antwort auf die folgenden Fragen ein
</span></span><span style=display:flex><span>&gt;&gt;&gt;&gt; Passphrase eingeben (leer fÃ¼r keine Passphrase): [Entertaste drÃ¼cken]
</span></span><span style=display:flex><span>&gt;&gt;&gt;&gt; Gleiche Passphrase erneut eingeben: [Entertaste drÃ¼cken]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>oder
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ssh-keygen -t ecdsa -b 521 # Erzeugt einen sichereren und schnelleren EkliptikschlÃ¼ssel. Geben Sie das gewÃ¼nschte Passwort als Antwort auf die folgenden Fragen ein
</span></span><span style=display:flex><span>&gt;&gt;&gt;&gt; Passphrase eingeben (leer fÃ¼r keine Passphrase): [Entertaste drÃ¼cken]
</span></span><span style=display:flex><span>&gt;&gt;&gt;&gt; Gleiche Passphrase erneut eingeben: [Entertaste drÃ¼cken]
</span></span></code></pre></div><p>Wenn Sie andere Fragen mit der Eingabetaste beantwortet und keinen bestimmten Speicherort fÃ¼r den SchlÃ¼ssel eingegeben haben, wird Ihr SchlÃ¼sselpaar (.pub=Ã¶ffentlicher SchlÃ¼ssel) / privater SchlÃ¼ssel ohne Erweiterung) im Ordner /home/USER_NAME/.ssh gespeichert. Sie kÃ¶nnen den folgenden Code verwenden, um den von Ihnen generierten SchlÃ¼ssel auf Ihrem Server einzufÃ¼hren.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>ssh-copy-id -i ~/.ssh/KEY_NAME.pub Nachdem Sie USER_NAME@SERVER_IP_ADRESS # auf dem SERVER eingegeben haben, werden Sie nach dem Passwort Ihres Benutzers gefragt und wenn Sie es richtig eingeben, sehen Sie eine BestÃ¤tigungsnachricht.
</span></span></code></pre></div><p>Nachdem Sie Ihren eigenen SchlÃ¼ssel generiert haben, greifen Sie nur mit dem SchlÃ¼ssel auf den Server zu;
Titel werden wir finden und ersetzen</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>#PasswordAuthentication no &gt;&gt; Wir entfernen den Hashtag am Anfang und belassen den â€noâ€œ-Wert auf no. Dieser Befehl verhindert, dass eine Verbindung zum Server mit einem Kennwort hergestellt wird. Benutzer kÃ¶nnen sich nur mit ssh_keys verbinden.
</span></span><span style=display:flex><span>PubkeyAuthentication yes &gt;&gt;Â Falls ja, entfernen wir das Rautezeichen am Anfang und setzen den Wert auf yes. Dieser Befehl ist der Befehl, mit dem Sie sich mit dem gerade erstellten geheimen SchlÃ¼ssel anmelden kÃ¶nnen.
</span></span><span style=display:flex><span>#PermitRootLogin no &gt;&gt; Wir entfernen den Hashtag am Anfang und belassen den â€noâ€œ-Wert auf no. Dieser Befehl verhindert, dass der ROOT-Benutzer, der am stÃ¤rksten autorisierte Benutzer ist, auf den Server zugreift. Sie kÃ¶nnen jedoch mit einem anderen Benutzer darauf zugreifen und dann zum ROOT-Benutzer wechseln.
</span></span><span style=display:flex><span>AllowUsers IHR BENUTZERNAME &gt;&gt;Â Falls noch nicht vorhanden, fÃ¼gen wir einen solchen Eintrag hinzu. Es hindert andere Benutzer daran, sich mit dem Server zu verbinden und/oder einen Benutzernamen zu versuchen.
</span></span><span style=display:flex><span>LoginGraceTime 20 &gt;&gt; Wenn nicht, fÃ¼gen wir einen solchen Datensatz hinzu und setzen den Wert auf 20. Bestimmt die fÃ¼r die Anmeldung erforderliche Zeit in Sekunden. Wir verhindern, dass sie den Server mit einer langen Anmeldeanfrage beschÃ¤ftigen.
</span></span><span style=display:flex><span>ChallengeResponseAuthentication no &gt;&gt;Â Falls ja, entfernen wir das Rautezeichen am Anfang und setzen den Wert auf no. Dieser Befehl deaktiviert andere Anmeldemethoden.
</span></span><span style=display:flex><span>KerberosAuthentication no &gt;&gt;Â Falls ja, entfernen wir das Rautezeichen am Anfang und setzen den Wert auf no. Dieser Befehl deaktiviert andere Anmeldemethoden.
</span></span><span style=display:flex><span>GSSAPIAuthentication no &gt;&gt;Â Falls ja, entfernen wir das Rautezeichen am Anfang und setzen den Wert auf no. Dieser Befehl deaktiviert andere Anmeldemethoden.
</span></span></code></pre></div><p>Wenn Sie nach dem Vornehmen der Einstellungen Ã¼berprÃ¼fen mÃ¶chten: Sie kÃ¶nnen den Befehl â€sudo sshd -tâ€œ verwenden. Wenn Sie keine Fehlermeldung sehen, kÃ¶nnen Sie die Einstellungen Ã¼bernehmen und den Dienst mit dem Befehl &ldquo;sudo systemctl restart sshd&rdquo; oder &ldquo;sudo service sshd restart&rdquo; neu starten.</p><h2 id=erweiterte-einstellungen>Erweiterte Einstellungen<a hidden class=anchor aria-hidden=true href=#erweiterte-einstellungen>#</a></h2><p>ZunÃ¤chst werden wir den Standard-SSH-Verbindungsport 22 Ã¤ndern und dann die wÃ¤hrend der SSH-Verbindung verwendeten VerschlÃ¼sselungstools noch stÃ¤rker machen. AnschlieÃŸend legen wir fest, wie die Protokolle (RegistrierungsdatensÃ¤tze) des Server-SSH-Dienstes gefÃ¼hrt werden.</p><p>Titel werden wir finden und ersetzen</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>#Port 22 &gt;&gt; Wir finden das und entfernen das Rautezeichen am Anfang und schreiben dort eine Portnummer, die von keinem anderen Dienst verwendet wird und offen ist. Zum Beispiel kÃ¶nnte es 2992 sein.
</span></span><span style=display:flex><span>LogLevel INFO &gt;&gt;Â Wir finden diese Einstellung und Ã¤ndern sie, wenn nicht, fÃ¼gen wir sie hinzu. Es hilft uns, den Aufnahmepegel einzustellen.
</span></span><span style=display:flex><span>AllowAgentForwarding no &gt;&gt;Â Wir finden diese Einstellung und Ã¤ndern sie, wenn nicht, fÃ¼gen wir sie hinzu. Deaktiviert alternative Routing-Methoden.
</span></span><span style=display:flex><span>AllowTcpForwarding no &gt;&gt;Â Wir finden diese Einstellung und Ã¤ndern sie, wenn nicht, fÃ¼gen wir sie hinzu. Deaktiviert alternative Routing-Methoden.
</span></span><span style=display:flex><span>PrintMotd nein &gt;&gt;Â Wir finden diese Einstellung und Ã¤ndern sie, wenn nicht, fÃ¼gen wir sie hinzu. Um zu verhindern, dass sie etwas Ã¼ber den Server erfahren, bevor die Verbindung hergestellt wird.
</span></span><span style=display:flex><span>PermitUserEnvironment nein &gt;&gt;Â Wir finden diese Einstellung und Ã¤ndern sie, wenn nicht, fÃ¼gen wir sie hinzu.
</span></span><span style=display:flex><span>PermitTunnel no &gt;&gt;Â Wir finden diese Einstellung und Ã¤ndern sie, wenn nicht, fÃ¼gen wir sie hinzu.
</span></span></code></pre></div><p>Wir gehen noch weiter und bestimmen, welcher der VerschlÃ¼sselungsalgorithmen, Authentifizierungsalgorithmen, SchlÃ¼sselaustauschalgorithmen und anderen Algorithmen, die wÃ¤hrend der SSH-Verbindung verwendet werden, der Standard sein sollte.</p><p>Wir fÃ¼hren die folgenden Befehle jeweils mit einem Root-Benutzer oder einem Benutzer mit sudo-Berechtigung aus.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>1<span style=color:#f92672>]</span> rm /etc/ssh/ssh_host_*
</span></span><span style=display:flex><span>2<span style=color:#f92672>]</span> ssh-keygen -t rsa -b <span style=color:#ae81ff>4096</span> -f /etc/ssh/ssh_host_rsa_key -N <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>3<span style=color:#f92672>]</span> ssh-keygen -t ed25519 -f /etc/ssh/ssh_host_ed25519_key -N <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>4<span style=color:#f92672>]</span> awk <span style=color:#e6db74>&#39;$5 &gt;= 3072&#39;</span> /etc/ssh/moduli &gt; /etc/ssh/moduli.tmp
</span></span><span style=display:flex><span>5<span style=color:#f92672>]</span> mv /etc/ssh/moduli.tmp /etc/ssh/moduli
</span></span><span style=display:flex><span>6<span style=color:#f92672>]</span> sed -i <span style=color:#e6db74>&#39;s/^\#HostKey \/etc\/ssh\/ssh_host_\(rsa\|ed25519\)_key$/HostKey \/etc\/ssh\/ssh_host_\1_key/g&#39;</span> /etc/ ssh/sshd_config
</span></span><span style=display:flex><span>7<span style=color:#f92672>]</span> echo -e <span style=color:#e6db74>&#34;KexAlgorithms curve25519-sha256,curve25519-sha256@libssh.org,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha256\nCiphers chacha20-poly1305@ openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr\nMACs hmac-sha2-256-etm@openssh.com,hmac-sha2-512 -etm@openssh.com,umac-128-etm@openssh.com\nHostKeyAlgorithms ssh-ed25519,ssh-ed25519-cert-v01@openssh.com,sk-ssh-ed25519@openssh.com,sk-ssh-ed25519- cert-v01@openssh.com,rsa-sha2-256,rsa-sha2-512,rsa-sha2-256-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com&#34;</span> &gt; / etc/ssh/sshd_config.d/ssh-hardening.conf
</span></span></code></pre></div><p>Nachdem Sie die Einstellungen vorgenommen haben, Ã¼bernehmen Sie die Einstellungen mit dem Befehl â€sudo sshd -tâ€œ und dann, wenn Sie keine Fehlermeldung sehen, â€sudo service sshd restartâ€œ und starten Sie den Dienst neu. Jetzt kÃ¶nnen Sie sich Ã¼ber den gerade definierten Port und nur mit Ihrem privaten SchlÃ¼ssel mit dem Server verbinden. Verbinden;</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Sie kÃ¶nnen den Befehl ssh -i ~/.ssh/KEY_NAME USER_NAME@SERVER_IP_ADRESS -p PORT_NUMBER # verwenden. Sie kÃ¶nnen fortfahren, indem Sie bei den eingehenden Benachrichtigungen die Eingabetaste sagen.
</span></span></code></pre></div><h1 id=ende>Ende<a hidden class=anchor aria-hidden=true href=#ende>#</a></h1><p>Dieser Artikel wurde zuvor unter <a href=https://teknolojirehberleri.xyz>https://teknolojirehberleri.xyz</a> verÃ¶ffentlicht. Um ein persÃ¶nliches Portfolio zu erstellen, hatte ich das BedÃ¼rfnis, es auf meiner persÃ¶nlichen Website erneut zu verÃ¶ffentlichen.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://wiseweb-works.github.io/blog/de/tags/linux/>linux</a></li><li><a href=https://wiseweb-works.github.io/blog/de/tags/ssh/>ssh</a></li><li><a href=https://wiseweb-works.github.io/blog/de/tags/sicherheit/>sicherheit</a></li><li><a href=https://wiseweb-works.github.io/blog/de/tags/audit/>audit</a></li></ul><nav class=paginav><a class=prev href=https://wiseweb-works.github.io/blog/de/post/ssl-konfigurasyonu/><span class=title>Â« Vorherige</span><br><span>ErhÃ¶hung der SSL-Sicherheit auf Linux-Servern</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://wiseweb-works.github.io/blog/de/>Wise</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Kopieren";function s(){t.innerHTML="Kopiert!",setTimeout(()=>{t.innerHTML="Kopieren"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>